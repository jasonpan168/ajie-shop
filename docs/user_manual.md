# 商城系统使用手册

## 系统概述
本商城系统是一个功能完整的在线销售平台，支持商品管理、订单处理、自动发卡、多种支付方式等功能。系统采用现代化的设计，操作简单直观，适合各类数字商品的在线销售需求。

## 系统功能模块

### 1. 管理员后台

#### 1.1 商品管理 (products.php)
- 添加/编辑商品：设置商品名称、价格、描述、库存等信息
- 商品上下架：控制商品是否在前台显示
- 商品分类管理：对商品进行分类，方便管理和展示

#### 1.2 订单管理 (order_details.php)
- 查看订单详情：订单状态、支付信息、购买商品等
- 订单处理：手动处理特殊订单情况
- 订单统计：查看销售数据和统计信息

#### 1.3 优惠码管理 (coupons.php)
- 创建优惠码：设置折扣金额、使用期限等
- 管理优惠码：查看使用情况、停用或删除优惠码

#### 1.4 发卡任务管理 (manage_card_tasks.php)
- 创建发卡任务：设置卡密内容、数量等
- 查看任务状态：监控自动发卡执行情况
- 手动处理异常：处理发卡失败的情况

#### 1.5 系统设置

##### 支付配置
- 易支付配置 (epay_config.php)：设置商户ID、密钥等
- 微信支付配置 (wechat_config.php)：配置微信支付参数

##### 通知设置
- 邮件通知 (email_settings.php)：配置SMTP服务器信息
- Telegram通知 (telegram_config.php)：设置Bot Token和群组ID
- WxPusher通知 (wxpusher_config.php)：配置应用ID和通知参数

##### IP限制管理 (ip_limits.php)
- 查看IP访问记录
- 解锁被限制的IP
- 设置IP访问规则

### 2. 用户前台

#### 2.1 商品浏览和购买 (index.php)
- 浏览商品列表
- 查看商品详情
- 选择商品数量
- 使用优惠码

#### 2.2 支付流程 (choose_pay.php)
1. 选择支付方式
2. 跳转到支付页面
3. 完成支付
4. 等待系统自动发货

#### 2.3 订单查询 (order_query.php)
- 输入订单号查询订单状态
- 查看订单详细信息
- 获取卡密信息（如果已发货）

## 常见问题解答

### 1. 支付问题
Q: 支付成功但未收到商品怎么办？
A: 请使用订单查询功能查看订单状态，如果显示已支付但未发货，请联系管理员处理。

Q: 能否更换支付方式？
A: 订单生成后支付方式无法更改，请重新下单选择需要的支付方式。

### 2. 商品问题
Q: 购买的卡密可以退换吗？
A: 数字商品属于即时消费品，一经发送不支持退换。

Q: 如何使用优惠码？
A: 在下单页面的优惠码输入框中输入有效的优惠码，系统会自动计算折扣金额。

### 3. 系统问题
Q: 被系统限制IP了怎么办？
A: 请联系管理员解除IP限制，并说明原因。

Q: 订单号丢失怎么办？
A: 请查看您的邮箱或其他通知方式，系统会自动发送订单信息。

## 安全提醒
1. 请妥善保管您的订单号和卡密信息
2. 不要在不安全的网络环境下进行支付操作
3. 如发现系统异常，请立即联系管理员

## 联系方式
- 电报群：https://t.me/+yK7diUyqmxI2MjZl
- 邮箱：weijianao@gmail.com
- YouTube频道：https://www.youtube.com/@ajieshuo

## 更新日志
- 2025年3月31日：系统首版开发完成
- 2025年2月6日：项目开发启动

## 免责声明
本系统仅供学习研究使用，未经允许禁止商用。使用本系统进行的任何交易行为，请确保符合当地法律法规。